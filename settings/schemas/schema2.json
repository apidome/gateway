{
    "$id": "http://api.example.com/profile2.json#",
    "type": "object",
    "properties": {
        "name": {
            "$id": "bar",
            "type": "string",
            "minLength": 1,
            "maxLength": 64,
            "$ref": "#"
        }
    },
    "patternProperties": {
        "^ag": {
            "type": "integer",
            "$ref": "#/properties/name"
        }
    },
    "additionalProperties": true,
    "if": {
        "type": "object",
        "properties": {
            "x": {
                "type": "integer"
            }
        },
        "$ref": "#/else"
    },
    "else": {
        "type": "string",
        "$ref": "#/if"
    },
    "then": {
        "type": "string"
    }
}